{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "HashFormat": {
            "description": "A hashing format used to detect if a file has changed. You may use your own hash format, but the valid values here should be supported and expected for most packs, especially SHA-256 and Murmur2.",
            "enum": [
                "md5",
                "murmur2",
                "sha256",
                "sha512"
            ],
            "type": "string"
        },
        "IndexFile": {
            "description": "A single file in the index, to be downloaded by the modpack installer.",
            "properties": {
                "alias": {
                    "description": "The name with which this file should be downloaded, instead of the filename specified in the path. Not compatible with metafile, and may not be very well supported.",
                    "type": "string"
                },
                "file": {
                    "description": "The path to the file to be downloaded, relative to this index file.",
                    "type": "string"
                },
                "hash": {
                    "description": "The hash of the specified file, as a string. Binary hashes should be stored as hexadecimal, and case should be ignored during parsing. Numeric hashes (e.g. Murmur2) should still be stored as a string, to ensure the value is preserved correctly.",
                    "type": "string"
                },
                "hash-format": {
                    "description": "The hash format (algorithm) for the hash of the specified file. Defaults to the hash format specified in the index - ideally remove this value if it is equal to the hash format for the index to save space.",
                    "enum": [
                        "md5",
                        "murmur2",
                        "sha256",
                        "sha512"
                    ],
                    "type": "string"
                },
                "metafile": {
                    "description": "True when this entry points to a .toml metadata file, which references a file outside the pack. Defaults to false when omitted.",
                    "type": "boolean"
                },
                "preserve": {
                    "description": "When this is set to true, the file is not overwritten if it already exists, to preserve changes made by a user. Defaults to false when omitted.",
                    "type": "boolean"
                }
            },
            "required": [
                "file",
                "hash"
            ],
            "type": "object"
        }
    },
    "description": "The index file of the modpack, storing references to every file to be downloaded in the pack.\n\nExample:\n\n```toml\nhash-format = \"sha256\"\n\n[[files]]\nfile = \"mod.toml\"\nhash = \"a82d23948043048cef6208c8cc8bdac1ea42b6f8d6d73074ea0ab9a955f7ddf2\"\nmetafile = true\n```",
    "properties": {
        "files": {
            "description": "The files listed in this index.",
            "items": {
                "$ref": "#/definitions/IndexFile"
            },
            "type": "array"
        },
        "hash-format": {
            "$ref": "#/definitions/HashFormat",
            "description": "The default hash format (algorithm) for every file in the index."
        }
    },
    "required": [
        "files",
        "hash-format"
    ],
    "type": "object"
}

